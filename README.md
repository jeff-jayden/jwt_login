# jwt_login

登录态：
   https://www.cnblogs.com/88223100/p/One-article-to-understand-the-common-login-schemes-of-the-front-and-rear-end.html

实现的大概思路：
1.  前端传用户名密码，后端接收查询用户，使用 userId和password 生成jwt返回给前端
2.  前端存储到localstorage中，访问其他敏感数据，将token放到header请求头中请求
3.  后端在拦截器中拿到jwt，进行解码拿到userId 用其查询数据库有没有该用户，有将得到的用户密码加密与前端传来的 token 对比校验，通过就放行


前后端管理登录态通常涉及认证和会话管理的过程。登录态是指系统识别和保持用户登录状态的机制。以下是确定和维持登录态的一般步骤：
1. 用户认证
   用户输入凭证：在前端登录界面，用户输入登录凭证，比如用户名和密码。
   发送凭证到后端：前端通过HTTPS请求将用户凭证安全地发送至后端。
2. 验证凭证
   检查凭证：后端接收到凭证后，会在数据库中验证凭证的有效性。
   生成标识符：一旦凭证被确认无误，后端会生成一个唯一的认证标识符（如Token、JWT等）。
3. 发送认证信息
   返回认证信息：后端会将认证标识符发送给前端，这通常通过HTTP响应的形式。
4. 前端存储状态
   存储令牌：前端应用会将接收到的认证标识符存储在安全的地方，例如HTTP Only的Cookie、LocalStorage、或SessionStorage。
   带上令牌发起请求：之后的每个请求都会携带这个认证标识符，以便后端确认用户的登录状态。
5. 后端验证状态
   验证令牌：每次请求到达后端时，后端会验证附带的认证标识符的有效性。
   维持会话：如果认证标识符有效，后端接受请求并提供响应；否则，返回错误或者要求重新登录。
6. 用户注销
   前端会发起注销请求，后端接收到注销请求后将会使认证标识符无效，并清理服务器端的会话信息。
   前端清理存储的认证令牌，用户的登录态即被清除。


   安全性注意事项
   使用HTTPS以防止数据在传输过程中被截取。
   设置合理的令牌过期时间以防止旧令牌被滥用。
   对Cookie进行安全设置，如设置HTTP Only标志来防止JavaScript访问Cookie。
   对前端存储进行加密处理，如对LocalStorage中的Token进行加密。
   防止CSRF（跨站请求伪造）攻击，可以使用CSRF Token等技术。
